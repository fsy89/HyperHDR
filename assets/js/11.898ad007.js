(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{350:function(t,e,r){"use strict";r.r(e);var a=r(22),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"our-first-addon"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#our-first-addon"}},[t._v("#")]),t._v(" Our first addon")]),t._v(" "),r("p",[t._v("You want to write an addon? You have no clue about everything? Perfect, the next steps will explain you everything you need to know. Also Python beginners are invited. Let's start with the addon types.")]),t._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#addon-types"}},[t._v("Addon types")])]),r("li",[r("a",{attrs:{href:"#development-setup"}},[t._v("Development setup")]),r("ul",[r("li",[r("a",{attrs:{href:"#folder-layout"}},[t._v("Folder layout")])]),r("li",[r("a",{attrs:{href:"#create-a-new-service-addon"}},[t._v("Create a new service Addon")])]),r("li",[r("a",{attrs:{href:"#metadata"}},[t._v("Metadata")])]),r("li",[r("a",{attrs:{href:"#addon-categories"}},[t._v("Addon categories")])]),r("li",[r("a",{attrs:{href:"#development"}},[t._v("Development")])])])])])]),r("p"),t._v(" "),r("h2",{attrs:{id:"addon-types"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#addon-types"}},[t._v("#")]),t._v(" Addon types")]),t._v(" "),r("p",[t._v("Currently there are 2 types of Addons.")]),t._v(" "),r("ul",[r("li",[t._v("Service")]),t._v(" "),r("li",[t._v("Module")])]),t._v(" "),r("p",[t._v("A service addon runs usually the whole time (if enabled), it starts and stops with the execution of Hyperion. Additional it has settings that can be configured from the user to fit their needs. This can be an IP address to another service, a time to trigger, or anything else that you will discover from the Addon API")]),t._v(" "),r("p",[t._v("A module provides utility methods which can be imported from a service addon to be used. Examples are Python packages from the PyPi repository like httplib2, which makes the developer life easier when working with HTTP requests. Instead implementing everything on your own you can rely on the work of others with well tested modules from the Python community. You can also create modules on your own if you think the code can be reused in other service addons.")]),t._v(" "),r("h2",{attrs:{id:"development-setup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#development-setup"}},[t._v("#")]),t._v(" Development setup")]),t._v(" "),r("p",[t._v("All you need is:")]),t._v(" "),r("ul",[r("li",[t._v("An installed and running Hyperion. You need access to the filesystem where Hyperion has been installed")]),t._v(" "),r("li",[t._v("An editor to write code (recommended "),r("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Visual Studio Code"),r("OutboundLink")],1),t._v(") for Windows/Linux/Mac)")])]),t._v(" "),r("h3",{attrs:{id:"folder-layout"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#folder-layout"}},[t._v("#")]),t._v(" Folder layout")]),t._v(" "),r("p",[t._v("The follow files are part of an addon.")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("File")]),t._v(" "),r("th",[t._v("language")]),t._v(" "),r("th",[t._v("Comment")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("service.py")]),t._v(" "),r("td",[r("a",{attrs:{href:"https://www.python.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python"),r("OutboundLink")],1)]),t._v(" "),r("td",[t._v("Required for "),r("code",[t._v("service")]),t._v(" addons. Entry point, this is where your code goes to")])]),t._v(" "),r("tr",[r("td",[t._v("addon.json")]),t._v(" "),r("td",[r("a",{attrs:{href:"http://www.json.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON"),r("OutboundLink")],1)]),t._v(" "),r("td",[t._v("The meta data file required for all addons")])]),t._v(" "),r("tr",[r("td",[t._v("settingsSchema.json")]),t._v(" "),r("td",[r("a",{attrs:{href:"http://json-schema.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON Schema"),r("OutboundLink")],1)]),t._v(" "),r("td",[t._v("Required for "),r("code",[t._v("service")]),t._v(" addons. Options UI. "),r("RouterLink",{attrs:{to:"/en/api/ui.html"}},[t._v("Read more")])],1)]),t._v(" "),r("tr",[r("td",[t._v("lib")]),t._v(" "),r("td",[t._v("Folder")]),t._v(" "),r("td",[t._v("Required for "),r("code",[t._v("module")]),t._v(" addons. Entry point for modules")])])])]),t._v(" "),r("h3",{attrs:{id:"create-a-new-service-addon"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-service-addon"}},[t._v("#")]),t._v(" Create a new service Addon")]),t._v(" "),r("p",[t._v("To create a service addon you need to follow a simple structure.")]),t._v(" "),r("ul",[r("li",[t._v("Navigate to ~/.hyperion/addons (folder in your home directory)")]),t._v(" "),r("li",[t._v('Think about a short "id", this id needs to be unique and should just contain letters (English), lowercase no whitespace Example: '),r("code",[t._v("kodicon")]),t._v(" "),r("code",[t._v("plexcon")]),t._v(" "),r("code",[t._v("timer")]),t._v(" "),r("code",[t._v("cec")])]),t._v(" "),r("li",[t._v("Create a folder with your id and prepend "),r("code",[t._v("service.")]),t._v(". Example: "),r("code",[t._v("service.kodicon")]),t._v(" "),r("code",[t._v("service.timer")]),t._v(" "),r("code",[t._v("service.cec")])]),t._v(" "),r("li",[t._v("Inside this folder create a file called "),r("code",[t._v("service.py")]),t._v(", this is where your addon code goes to")]),t._v(" "),r("li",[t._v("Create a file called "),r("code",[t._v("settingsSchema.json")]),t._v(", this will represent our options")]),t._v(" "),r("li",[t._v("Create a new file called "),r("code",[t._v("addon.json")]),t._v(" and add "),r("a",{attrs:{href:"#metadata%7C"}},[t._v("metadata")])]),t._v(" "),r("li",[t._v("That's it!")])]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),r("p",[t._v("A prepared service playground addon can be downloaded from the repository. This shows the basic usage of the API but also how option UI works")])]),t._v(" "),r("h3",{attrs:{id:"metadata"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#metadata"}},[t._v("#")]),t._v(" Metadata")]),t._v(" "),r("p",[t._v("The metadata file called addon.json is a description of your addon to declare name, version, dependencies, support URL, sourcecode URL and more. This file is parsed by Hyperion to provide users required informations and download updates accordingly.")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("Property")]),t._v(" "),r("th",[t._v("Type")]),t._v(" "),r("th",[t._v("Comment")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("name")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("User friendly name of your addon")])]),t._v(" "),r("tr",[r("td",[t._v("description")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("What does this addon as a brief overview")])]),t._v(" "),r("tr",[r("td",[t._v("id")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("The unique id")])]),t._v(" "),r("tr",[r("td",[t._v("version")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("The current version of your addon. "),r("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Semver 2.0.0"),r("OutboundLink")],1)])]),t._v(" "),r("tr",[r("td",[t._v("category")]),t._v(" "),r("td",[t._v("Array")]),t._v(" "),r("td",[t._v("Add the addon to a category. Available "),r("code",[t._v("utility")])])]),t._v(" "),r("tr",[r("td",[t._v("dependencies")]),t._v(" "),r("td",[t._v("Object")]),t._v(" "),r("td",[t._v("You can depend on modules / a specific minimum Hyperion version.")])]),t._v(" "),r("tr",[r("td",[t._v("changelog")]),t._v(" "),r("td",[t._v("Array")]),t._v(" "),r("td",[t._v("Array of Objects with notes")])]),t._v(" "),r("tr",[r("td",[t._v("provider")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("Author of this addon")])]),t._v(" "),r("tr",[r("td",[t._v("support")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("A URL for support.")])]),t._v(" "),r("tr",[r("td",[t._v("source")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("A URL where the source code is hosted")])]),t._v(" "),r("tr",[r("td",[t._v("licence")]),t._v(" "),r("td",[t._v("String")]),t._v(" "),r("td",[t._v("Licence type, can be MIT, GPL, LGPL")])])])]),t._v(" "),r("p",[t._v("Here a version for copy and paste")]),t._v(" "),r("div",{staticClass:"language-json extra-class"},[r("pre",{pre:!0,attrs:{class:"language-json"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My addon Name"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What does my addon as a brief overview"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"service.myid"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1.0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"category"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utility"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hyperion"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0.0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"changelog"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"0.1.0 Crunchy Cudator"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-New featrues -bugfixs -other stuff"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"provider"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hyperion-project"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"support"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"URL to hyperion-project.org Forum thread"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"URL to source code"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[t._v('"licence"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),r("h3",{attrs:{id:"addon-categories"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#addon-categories"}},[t._v("#")]),t._v(" Addon categories")]),t._v(" "),r("p",[t._v("Addons can be assigned to  a category for better sorting. Select the best matching")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("utility")]),t._v(" A utility is usually a smaller addon, which does very basic tasks. It doesn't connect to another software. For example the Wake On LAN addon is a utility.")]),t._v(" "),r("li",[r("strong",[t._v("integration")]),t._v(" A integration addon interfaces with another software to listen for specific API events which triggers now actions on the Hyperion side or vice versa. Example is the Kodi addon")]),t._v(" "),r("li",[t._v("You can suggest new categories!")])]),t._v(" "),r("h3",{attrs:{id:"development"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#development"}},[t._v("#")]),t._v(" Development")]),t._v(" "),r("p",[t._v("Enough preparation stuff, let's start! "),r("br"),t._v("\nIt's highly recommended to work/read once through a Python tutorial which explains you the principals of Python if you are new to Python.")]),t._v(" "),r("ul",[r("li",[t._v("New to Python? No problem, here is a interactive tutorial where you can read, write and execute your first python scripts inside your browser "),r("a",{attrs:{href:"https://www.learnpython.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("learnpython"),r("OutboundLink")],1),t._v(", available in 7 languages!")]),t._v(" "),r("li",[t._v("Good beginner guide: "),r("a",{attrs:{href:"https://www.python-course.eu/python3_interactive.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python course EN"),r("OutboundLink")],1),t._v(". "),r("a",{attrs:{href:"https://www.python-kurs.eu/python3_interaktiv.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python Kurs DE"),r("OutboundLink")],1),t._v(". It's not necessary (nor possible) to understand everything, but the first pages are very helpful as a start!")])])])}),[],!1,null,null,null);e.default=s.exports}}]);